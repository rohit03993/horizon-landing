(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8901:function(e,t,a){Promise.resolve().then(a.bind(a,9725))},9725:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var o=a(7437),i=a(2265);function l(){let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[d,c]=(0,i.useState)("submissions"),[p,m]=(0,i.useState)([]),[g,b]=(0,i.useState)([]),[u,y]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1),[k,v]=(0,i.useState)(""),[f,T]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=localStorage.getItem("admin_token");e&&(t(!0),N(e),j(e))},[]);let w=async e=>{e.preventDefault(),y(!0),v("");try{let e=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:n})}),o=await e.json();e.ok?(localStorage.setItem("admin_token",o.token),t(!0),N(o.token),j(o.token)):v(o.error||"Login failed")}catch(e){v("Login failed. Please try again.")}finally{y(!1)}},N=async e=>{try{let a=await fetch("/api/admin/submissions",{headers:{Authorization:"Bearer ".concat(e)}}),o=await a.json();a.ok?m(o.submissions):401===a.status&&(localStorage.removeItem("admin_token"),t(!1))}catch(e){console.error("Error fetching submissions:",e)}},j=async e=>{try{let t=await fetch("/api/admin/content",{headers:{Authorization:"Bearer ".concat(e)}}),a=await t.json();if(t.ok){let e=a.content.map(e=>({...e,contentData:e.content_data?JSON.parse(e.content_data):{}}));b(e)}}catch(e){console.error("Error fetching content:",e)}},S=async(e,t,a)=>{let o=localStorage.getItem("admin_token");if(!o){v("Not authenticated. Please login again.");return}h(!0),v("");try{let i=await fetch("/api/admin/content",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({sectionKey:e,contentType:t,contentData:a})}),l=await i.json();i.ok?(T("Saved: ".concat(e)),setTimeout(()=>T(""),2e3)):(console.error("Save error:",l),v(l.error||"Failed to save ".concat(e,". Check console for details.")),setTimeout(()=>v(""),5e3))}catch(e){console.error("Save exception:",e),v("Network error: ".concat(e.message||"Failed to save content")),setTimeout(()=>v(""),5e3)}finally{h(!1)}},U={hero:{badge:"Agra's Premier Educational Institution",heading:"",baseText:"Education Beyond",rotatingWords:"Classrooms,Boundaries,Limits,Expectations,Convention,Tradition",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},section1:{heading:"Not Just a School.",subheading:"A Future-Building Institution.",description:"We combine strong academics with practical learning, discipline, and real-world exposure.",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",videoTitle:"Classroom & Practical Learning"},section2:{heading:"Learning by Doing,",subheading:"Not Memorizing",description:"Students understand concepts through practical application, activities, and guided experiences.",video1Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",video1Title:"Science Labs & Experiments",video2Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",video2Title:"Interactive Classroom Learning"},section3:{heading:"Government Job Preparation",subheading:"Built Into School Life",description:"The only school in North India where competitive exam foundations are part of the regular curriculum.",video1Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",video1Title:"NDA Foundation Training",video2Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4",video2Title:"Reasoning & Aptitude",video3Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4",video3Title:"Discipline & Values"},section4:{heading:"Agra's Best GTO Ground",subheading:"For Defence Aspirants",description:"Real training. Real obstacles. Real confidence for future officers.",video1Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreet.mp4",video1Title:"GTO Ground Training",video2Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4",video2Title:"Teamwork & Command Tasks"},section5:{heading:"Strong Mind. Sharp Focus.",subheading:"Confident Students.",description:"Expert teachers, regular guidance, and mental relaxation practices shape balanced individuals.",video1Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4",video1Title:"Expert Teachers & Guidance",video2Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4",video2Title:"Meditation & Mental Wellness"},section6:{heading:"Academics, Sports & Leadership",subheading:"All Together",description:"We encourage students to grow in classrooms, playgrounds, and competitive environments.",video1Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",video1Title:"Science Exhibitions",video2Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",video2Title:"Boxing & Sports",video3Url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",video3Title:"Competitive Activities"},section7:{heading:"A Message from",subheading:"the Director",description:"Our vision is to prepare disciplined, confident, and capable citizens for the nation.",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",videoTitle:"Director's Message"}},D=e=>{var t;let a=(null===(t=g.find(t=>t.section_key===e))||void 0===t?void 0:t.contentData)||{};return{...U[e],...a}};return e?(0,o.jsx)("div",{className:"min-h-screen bg-black p-4",children:(0,o.jsxs)("div",{className:"container mx-auto max-w-7xl",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-black text-yellow-400",children:"Admin Dashboard"}),(0,o.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_token"),t(!1),m([]),b([])},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 font-bold",children:"Logout"})]}),(0,o.jsxs)("div",{className:"flex gap-4 mb-6 border-b-2 border-yellow-400",children:[(0,o.jsx)("button",{onClick:()=>c("submissions"),className:"px-6 py-3 font-black transition-colors ".concat("submissions"===d?"bg-yellow-400 text-black":"text-white hover:text-yellow-400"),children:"Form Submissions"}),(0,o.jsx)("button",{onClick:()=>c("content"),className:"px-6 py-3 font-black transition-colors ".concat("content"===d?"bg-yellow-400 text-black":"text-white hover:text-yellow-400"),children:"Content Editor"})]}),f&&(0,o.jsx)("div",{className:"mb-4 p-4 bg-green-100 border-2 border-green-500 rounded-lg text-green-800 font-bold",children:f}),k&&(0,o.jsx)("div",{className:"mb-4 p-4 bg-red-100 border-2 border-red-500 rounded-lg text-red-800 font-bold",children:k}),"submissions"===d&&(0,o.jsx)("div",{className:"bg-white rounded-lg overflow-hidden",children:0===p.length?(0,o.jsx)("div",{className:"p-8 text-center text-gray-600",children:"No submissions yet."}):(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full",children:[(0,o.jsx)("thead",{className:"bg-yellow-400",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"px-4 py-3 text-left text-sm font-black text-black",children:"ID"}),(0,o.jsx)("th",{className:"px-4 py-3 text-left text-sm font-black text-black",children:"Name"}),(0,o.jsx)("th",{className:"px-4 py-3 text-left text-sm font-black text-black",children:"Email"}),(0,o.jsx)("th",{className:"px-4 py-3 text-left text-sm font-black text-black",children:"Phone"}),(0,o.jsx)("th",{className:"px-4 py-3 text-left text-sm font-black text-black",children:"Message"}),(0,o.jsx)("th",{className:"px-4 py-3 text-left text-sm font-black text-black",children:"Date"})]})}),(0,o.jsx)("tbody",{children:p.map(e=>(0,o.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,o.jsx)("td",{className:"px-4 py-3 text-sm",children:e.id}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm font-bold",children:e.name}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,o.jsx)("a",{href:"mailto:".concat(e.email),className:"text-blue-600 hover:underline",children:e.email})}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm",children:e.phone?(0,o.jsx)("a",{href:"tel:".concat(e.phone),className:"text-blue-600 hover:underline",children:e.phone}):"-"}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm max-w-xs truncate",children:e.message||"-"}),(0,o.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})}),"content"===d&&(0,o.jsx)(s,{content:g,getContentItem:D,updateContentItem:(e,t,a)=>{let o={...D(e),...a};b(a=>a.find(t=>t.section_key===e)?a.map(t=>t.section_key===e?{...t,contentData:o}:t):[...a,{section_key:e,content_type:t,contentData:o}]),clearTimeout(window["saveTimeout_".concat(e)]),window["saveTimeout_".concat(e)]=setTimeout(()=>{S(e,t,o)},1e3)},saving:x,defaultContent:U})]})}):(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",children:(0,o.jsxs)("div",{className:"max-w-md w-full bg-white border-2 border-yellow-400 rounded-lg p-8",children:[(0,o.jsx)("h1",{className:"text-2xl font-black mb-6 text-center text-black",children:"Admin Login"}),(0,o.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"username",className:"block mb-2 text-sm font-bold text-black",children:"Username"}),(0,o.jsx)("input",{type:"text",id:"username",value:a,onChange:e=>l(e.target.value),required:!0,className:"w-full px-4 py-2 border-2 border-black rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-black"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-bold text-black",children:"Password"}),(0,o.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-2 border-2 border-black rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-black"})]}),k&&(0,o.jsx)("div",{className:"p-3 bg-red-100 border-2 border-red-500 rounded-md text-sm text-red-800",children:k}),(0,o.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black px-4 py-2 rounded-md font-black transition-colors disabled:opacity-50",children:u?"Logging in...":"Login"})]})]})})}function s(e){let{content:t,getContentItem:a,updateContentItem:i,saving:l,defaultContent:s}=e;return(0,o.jsx)("div",{className:"space-y-6",children:[{key:"hero",title:"Hero Section",fields:[{key:"heading",label:"Main Heading (Custom - overrides rotating text)",type:"text"},{key:"baseText",label:"Base Text (e.g., 'Education Beyond')",type:"text"},{key:"rotatingWords",label:"Rotating Words (comma-separated, e.g., 'Classrooms,Boundaries,Limits')",type:"text"},{key:"badge",label:"Badge Text",type:"text"},{key:"videoUrl",label:"Hero Video URL",type:"url"}]},{key:"section1",title:"Section 1 - What Makes Us Different",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"videoUrl",label:"Video URL",type:"url"},{key:"videoTitle",label:"Video Title",type:"text"}]},{key:"section2",title:"Section 2 - Learning by Doing",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"video1Url",label:"Video 1 URL",type:"url"},{key:"video1Title",label:"Video 1 Title",type:"text"},{key:"video2Url",label:"Video 2 URL",type:"url"},{key:"video2Title",label:"Video 2 Title",type:"text"}]},{key:"section3",title:"Section 3 - Government Job Preparation",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"video1Url",label:"Video 1 URL",type:"url"},{key:"video1Title",label:"Video 1 Title",type:"text"},{key:"video2Url",label:"Video 2 URL",type:"url"},{key:"video2Title",label:"Video 2 Title",type:"text"},{key:"video3Url",label:"Video 3 URL",type:"url"},{key:"video3Title",label:"Video 3 Title",type:"text"}]},{key:"section4",title:"Section 4 - GTO Ground",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"video1Url",label:"Video 1 URL",type:"url"},{key:"video1Title",label:"Video 1 Title",type:"text"},{key:"video2Url",label:"Video 2 URL",type:"url"},{key:"video2Title",label:"Video 2 Title",type:"text"}]},{key:"section5",title:"Section 5 - Strong Mind",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"video1Url",label:"Video 1 URL",type:"url"},{key:"video1Title",label:"Video 1 Title",type:"text"},{key:"video2Url",label:"Video 2 URL",type:"url"},{key:"video2Title",label:"Video 2 Title",type:"text"}]},{key:"section6",title:"Section 6 - Academics & Sports",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"video1Url",label:"Video 1 URL",type:"url"},{key:"video1Title",label:"Video 1 Title",type:"text"},{key:"video2Url",label:"Video 2 URL",type:"url"},{key:"video2Title",label:"Video 2 Title",type:"text"},{key:"video3Url",label:"Video 3 URL",type:"url"},{key:"video3Title",label:"Video 3 Title",type:"text"}]},{key:"section7",title:"Section 7 - Director's Message",fields:[{key:"heading",label:"Heading",type:"text"},{key:"subheading",label:"Subheading",type:"text"},{key:"description",label:"Description",type:"textarea"},{key:"videoUrl",label:"Video URL",type:"url"},{key:"videoTitle",label:"Video Title",type:"text"}]}].map(e=>{let t=a(e.key);return(0,o.jsxs)("div",{className:"bg-white rounded-lg p-6 border-2 border-yellow-400",children:[(0,o.jsx)("h2",{className:"text-2xl font-black text-black mb-4",children:e.title}),(0,o.jsx)("div",{className:"space-y-4",children:e.fields.map(a=>{var l,n,r;return(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block mb-2 text-sm font-bold text-black",children:a.label}),"textarea"===a.type?(0,o.jsx)("textarea",{value:t[a.key]||"",onChange:t=>{let o=t.target.value;i(e.key,"section",{[a.key]:o})},onPaste:t=>{t.preventDefault();let o=t.clipboardData.getData("text");i(e.key,"section",{[a.key]:o})},className:"w-full px-4 py-2 border-2 border-black rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-black",rows:3,placeholder:t[a.key]?void 0:"Current: ".concat((null===(l=s[e.key])||void 0===l?void 0:l[a.key])||"Not set")}):(0,o.jsx)("input",{type:"url"===a.type?"text":a.type,value:t[a.key]||"",onChange:t=>{let o=t.target.value;i(e.key,"section",{[a.key]:o})},onPaste:t=>{t.preventDefault();let o=t.clipboardData.getData("text");i(e.key,"section",{[a.key]:o})},className:"w-full px-4 py-2 border-2 border-black rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-black",placeholder:t[a.key]?void 0:"Current: ".concat((null===(n=s[e.key])||void 0===n?void 0:n[a.key])||"Not set")}),t[a.key]&&(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-600",children:"âœ“ Current value shown above"}),!t[a.key]&&(null===(r=s[e.key])||void 0===r?void 0:r[a.key])&&(0,o.jsxs)("p",{className:"mt-1 text-xs text-yellow-600 italic",children:["\uD83D\uDCA1 Default value: ",String(s[e.key][a.key]).substring(0,60),String(s[e.key][a.key]).length>60?"...":""]})]},a.key)})}),l&&(0,o.jsx)("div",{className:"mt-4 text-yellow-600 font-bold",children:"Saving..."})]},e.key)})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8901)}),_N_E=e.O()}]);